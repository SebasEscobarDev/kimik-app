import{j as me}from"./jsx-runtime.7faW4zRM.js";import{g as M,s as Ee}from"./consts.D182oArl.js";import{r as e}from"./index.DhYZZe0J.js";const ve={chats:[]},c={SET_CHATS:"SET_CHATS",CREATE_CHAT:"CREATE_CHAT",UPDATE_CHAT:"UPDATE_CHAT",DELETE_CHAT:"DELETE_CHAT"},we=(s,t)=>{switch(t.type){case c.SET_CHATS:return{...s,chats:t.payload};case c.CREATE_CHAT:return{...s,chats:[...s.chats,t.payload]};case c.UPDATE_CHAT:const l=s.chats.map(o=>o.id===t.payload.id?{...o,...t.payload}:o);return{...s,chats:l};case c.DELETE_CHAT:return{...s,chats:s.chats.filter(o=>o.id!==t.payload.id)};default:return s}},L=e.createContext(),ke=()=>{if(typeof window<"u"&&window.matchMedia){const s=window.matchMedia("(prefers-color-scheme: dark)").matches,t=navigator.language||navigator.userLanguage;return{modeText:s?"dark":"light",languageText:`${t}`}}return{modeText:"light",language:"es"}},Le=({children:s})=>{const[t,l]=e.useReducer(we,ve),[o,R]=e.useState(!1),[H,D]=e.useState(!1),_=e.useRef(null),y=e.useRef(null),B=e.useRef(null),U=e.useRef(null),K=e.useRef(null),P=e.useRef(null),z=e.useRef(null),F=e.useRef(null),G=e.useRef(null),N=e.useRef(null),j=e.useRef(null),[I,i]=e.useState({}),[J,O]=e.useState({}),[Q,V]=e.useState(1),[W,$]=e.useState([]),[q,X]=e.useState([]),[Y,Z]=e.useState(!0),{modeText:d,language:xe}=ke(),[r,u]=e.useState(d),[ee,se]=e.useState("en"),g=a=>{u(a.matches?"dark":"light")};e.useEffect(()=>{const a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,n=navigator.language||navigator.userLanguage;console.log(n),u(a?"dark":"light");const A=window.matchMedia("(prefers-color-scheme: dark)");return A.addEventListener("change",g),()=>{A.removeEventListener("change",g)}},[]);const[te,ae]=e.useState(1);e.useEffect(()=>{const a=M("AuthToken"),n=M("User");a!=null&&n!=null&&i(JSON.parse(n))},[]);const[oe,f]=e.useState(""),[re,h]=e.useState(""),[ne,C]=e.useState(""),[ce,S]=e.useState(""),[le,b]=e.useState(""),[ue,T]=e.useState(""),[ie,m]=e.useState(""),[de,E]=e.useState(""),[ge,v]=e.useState(""),[fe,w]=e.useState(""),[he,k]=e.useState(""),[Ce,x]=e.useState(""),[Se,p]=e.useState("");e.useEffect(()=>{r=="light"?(f("invert"),h("bg-[rgb(255,255,255,0.9)]"),v("border-black"),w("hover:bg-zinc-200"),C("bg-black"),S("bg-[#ececec]"),b("bg-white"),T("text-black"),m("text-white"),E("text-black"),k("#FFF"),x("border border-black"),p("")):(f(""),h("bg-[rgb(0,0,0,0.9)]"),v("border-white"),w("hover:bg-zinc-600"),C("bg-white"),S("bg-[#1d1d1b]"),b("bg-black"),T("text-white"),m("text-black"),E("text-slate-300"),k("#000"),x(""),p("border border-white")),Ee("mode",r)},[r]);const[be,Te]=e.useState(!1);return e.useEffect(()=>{const a=()=>{Te(window.innerWidth<=768)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),me.jsx(L.Provider,{value:{state:t,dispatch:l,refKnock:_,refDivScroll:y,refDivScrollKimik:B,refDivChat:K,refDivKimik:P,refBtnKimikIA:z,refHeaderButtons:F,refHeaderButtonsNull:G,refDivCloseKimik:N,refBtnCloseKimik:j,chatToUser:J,setChatToUser:O,userLogin:I,setUserLogin:i,messages:W,setMessages:$,messagesKimik:q,setMessagesKimik:X,showModalSettings:o,setShowModalSettings:R,showModalSigin:H,setShowModalSigin:D,upNotify:te,setUpNotify:ae,mode:r,setMode:u,languageText:ee,setLanguageText:se,modeText:d,imgClass:oe,bgClass:re,bgClass2:ne,bgClass3:ce,bgClass4:le,textClass:ue,textClass2:ie,textClass3:de,borderClass:ge,hoverClass:fe,color:he,borderActive:Ce,borderActive2:Se,isMobile:be,refChatMenuLeft:U,ventanaUser:Q,setVentanaUser:V,claseFristLoad:Y,setClaseFristLoad:Z},children:s})},Re=()=>e.useContext(L);export{Le as G,c as a,L as b,Re as u};
